@page "/events"
@using EventEase.Models
@inject NavigationManager Navigation
@rendermode InteractiveServer

<div class="container mt-4">
    <h3 class="mb-4">Event List</h3>

    <button class="btn btn-primary mb-3" @onclick="NavigateToEventRegistration">Register New Event</button>

    <ul class="list-group">
        @foreach (var eventItem in events)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center" @onclick="() => NavigateToEventDetails(eventItem)">
                <span>@eventItem.Name - @eventItem.Date.ToString("d")</span>
                <span class="badge bg-primary rounded-pill">@eventItem.Location</span>
            </li>
        }
    </ul>
</div>

@code {

    private List<Event> events = new List<Event>
    {
        new Event { Name = "Concierto de Rock", Date = new DateTime(2023, 12, 25), Location = "Auditorio Nacional" },
        new Event { Name = "Feria del Libro", Date = new DateTime(2023, 11, 15), Location = "Centro de Convenciones" }
    };

    private void NavigateToEventDetails(Event eventItem)
    {
        Navigation.NavigateTo($"/events/{eventItem.Name}");
    }

    private void NavigateToEventRegistration()
    {
        Console.WriteLine("Navigating to event registration");
        Navigation.NavigateTo("/register");
    }
 
}